# go-resolver üöÄ

A Golang DNSSEC validating resolver library implemented on top of [miekg/dns](https://github.com/miekg/dns).

## ‚ú® –û–ø–∏—Å–∞–Ω–∏–µ

`go-resolver` ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è DNS-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π DNSSEC-–≤–∞–ª–∏–¥–∞—Ü–∏–∏, –Ω–∞–ø–∏—Å–∞–Ω–Ω–∞—è –Ω–∞ Go. –û–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—É—é –∏ –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Ä–∞–±–æ—Ç—É —Å DNS, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

## ‚ö° –ü–æ—á–µ–º—É `go-resolver` –±—ã—Å—Ç—Ä—ã–π?

–ù–∞—à DNS-—Ä–µ–∑–æ–ª–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å —É—á–µ—Ç–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
*   **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –Ω–∞ Go**: Go –∏–∑–≤–µ—Å—Ç–µ–Ω —Å–≤–æ–µ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–æ–º, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç `go-resolver` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
*   **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –º–∏–Ω–∏–º–∏–∑–∏—Ä—É—è –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ DNS-—Å–µ—Ä–≤–µ—Ä—ã.
*   **–õ–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–∏—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–µ–ª–∞—é—Ç `go-resolver` –∏–¥–µ–∞–ª—å–Ω—ã–º –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö.

## üõ°Ô∏è DNSSEC-–≤–∞–ª–∏–¥–∞—Ü–∏—è

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∑–æ–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π DNSSEC `go-resolver` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –∑–∞–ø–∏—Å–µ–π —Ä–µ—Å—É—Ä—Å–æ–≤ (RR) –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–ø–æ—á–∫—É –¥–æ–≤–µ—Ä–∏—è:
*   –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π RRset (–≤–º–µ—Å—Ç–µ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –∑–∞–ø–∏—Å—å—é `RRSIG`).
*   –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∑–∞–ø–∏—Å–∏ `DNSKEY`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –ø—É–±–ª–∏—á–Ω—ã–µ ZSK –∏ KSK (–≤–º–µ—Å—Ç–µ —Å `RRSIG` –¥–ª—è RRset `DNSKEY`).
*   –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É `RRSIG` –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ RRset —Å –ø—É–±–ª–∏—á–Ω—ã–º ZSK.
*   –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É `RRSIG` RRset `DNSKEY` —Å –ø—É–±–ª–∏—á–Ω—ã–º KSK.
*   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å–µ–π `RRSIG`.

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–∞–∫–µ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–ø–æ—á–∫—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –ø–æ–¥–Ω–∏–º–∞—è—Å—å –ø–æ —Ü–µ–ø–æ—á–∫–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä—è—è –ø—É–±–ª–∏—á–Ω—ã–µ –∑–∞–ø–∏—Å–∏ `DNSKEY` –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–ø–∏—Å—è–º `DS` –≤ –∫–∞–∂–¥–æ–π —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∑–æ–Ω–µ, –≤–ø–ª–æ—Ç—å –¥–æ –∑–æ–Ω—ã TLD. (–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã DNSSEC —Å–º. –≤ [—ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ](https://www.cloudflare.com/dns/dnssec/how-dnssec-works/).)

–í —Å–ª—É—á–∞–µ –ª—é–±—ã—Ö –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `err` –∏ –ø—É—Å—Ç–æ–π –Ω–∞–±–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

`go-resolver` –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –æ—Ç–∫–∞–∑–∞ –≤ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–∞–ø–∏—Å–µ–π `NSEC` –∏–ª–∏ `NSEC3`.

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ DNS-—Å–µ—Ä–≤–µ—Ä–∞ Astracat

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ DNS-—Å–µ—Ä–≤–µ—Ä–∞ `astracat-dns` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç:

```bash
sudo ./install.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
1.  –°–æ–±–µ—Ä–µ—Ç –ø—Ä–æ–µ–∫—Ç `go-resolver`.
2.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª `astracat-dns` –≤ `/usr/local/bin`.
3.  –°–æ–∑–¥–∞—Å—Ç –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç —Å–ª—É–∂–±—É `systemd` –¥–ª—è `astracat-dns`.
4.  –ó–∞–ø—É—Å—Ç–∏—Ç DNS-—Å–µ—Ä–≤–µ—Ä `astracat-dns` –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω—É—é —Å–ª—É–∂–±—É.


## ü§ù –í–∫–ª–∞–¥

PRs –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏—Ö –º–µ–Ω–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNSSEC, –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è –∏ –æ—á–µ–Ω—å —Ü–µ–Ω—è—Ç—Å—è.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

*   DNS Security Introduction and Requirements [RFC4033](https://tools.ietf.org/html/rfc4033)
